<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Stat 585 - APIs</title>
    <meta charset="utf-8" />
    <meta name="author" content="Heike Hofmann and Susan Vanderplas" />
    <script src="libs/header-attrs-2.20/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="tweaks.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Stat 585 - APIs
]
.author[
### Heike Hofmann and Susan Vanderplas
]

---




## Application Programming Interfaces (APIs)

- A set of instructions and standards for accessing structured information on the web

- A very convenient way to get data from the internet

- Usually, takes the form:    
`http://url.com?param1=value&amp;param2=value2`

- Intended to make data available for other applications (e.g. developers of android apps, etc.)
    - More convenient than scraping HTML directly
    - Data is usually cleaner and better structured 

---

## Reading API Documentation

Most APIs come with some documentation:

- [Petfinder API](https://www.petfinder.com/developers/api-docs)

- [NOAA API](https://www.ncdc.noaa.gov/cdo-web/webservices/v2)

- [List of data.gov APIs](https://catalog.data.gov/dataset?q=-aapi+api+OR++res_format%3Aapi#topic=developers_navigation)

The documentation will tell you about 

- required authentication (and how to get an API key)
- rate limits (how many requests you can make at a time)
- query parameters and values


---

## API Authentication

Many APIs will allow you to register and obtain an API key

![](petfinder-api-key-secret.png)

---

## API Rate Limits

APIs are a service provided for developers. Servers dedicated to these APIs are resource-limited, so be respectful of the data provider and the resource limits. 

![](petfinder-api-limits.png)


---

## Getting Data

![](petfinder-api-query.png)

We will need to (1) Get our authorization token, then (2) build a request url: specify a category, then decide on an action, and any method search parameters

---

## Package `httr`

allows us to work with the http protocol and map queries:


```r
httr::POST(
  url = NULL,
  config = list(),
  ...,
  body = NULL,
  encode = c("multipart", "form", "json", "raw"),
  handle = NULL
)
```

POST allows us to let the website know about our 

- **identity**: through the key and the secret
- **preferences**: which encoding do we want for the results? 

Result of a successful POST will contain our access token

---

## Getting the authorization token

From the Petfinder website on getting an access token: 


```r
curl -d "grant_type=client_credentials&amp;client_id={CLIENT-ID}&amp;
client_secret={CLIENT-SECRET}" https://api.petfinder.com/v2/oauth2/token
```



```r
library(rvest)
library(xml2)
key &lt;- # Your key here
secret &lt;- # Your secret here
endpoint &lt;- 'oauth2/token'
url &lt;- "https://api.petfinder.com/v2/"
req &lt;- httr::POST(paste0(url, endpoint), 
                  body = list("grant_type"="client_credentials", 
                              "client_id" = key, 
                              "client_secret" = secret),
                  encode="json"
)
```

Save the token:

```r
token &lt;- httr::content(req)$access_token 
```

---

## Categories and methods


```r
curl -H "Authorization: Bearer {YOUR_ACCESS_TOKEN}" 
GET https://api.petfinder.com/v2/{CATEGORY}/
  {ACTION}?{parameter_1}={value_1}&amp;{parameter_2}={value_2}
```


Read through [categories](https://www.petfinder.com/developers/v2/docs/#get-animals), most general category: `animals`

![:scale 70%](petfinder-animals.png)



---
class: inverse
## Your Turn

Assume, we want to find all of the cats that are good with children  closest to Ames (zip code 50010)

Which search parameters do we need to specify? 

What does the url look like?

---

## Your Turn - Solution

cats are a *type*: type=cat

good_with_children=true

location=50010

The search string is therefore: 


```r
animals?type=cat&amp;good_with_children=true&amp;location=50010
```





```
## [1] "Emmett Treasure Sopapilla"
```

![](https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61962637/1/?bust=1680309320&amp;width=300)&lt;!-- --&gt;![](https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61962693/1/?bust=1680309344&amp;width=300)&lt;!-- --&gt;![](https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61962389/1/?bust=1680309410&amp;width=300)&lt;!-- --&gt;
---

## Method `GET` from package `httr`


```r
httr::GET(url = NULL, config = list(), ..., handle = NULL)
```

`url` is the url of the page we want

`config` helps with additional setting - e.g `add_headers` for authorization

---
## Now get some actual data 


```r
# Now get actual data
req_data &lt;- httr::GET(
  paste0(url, "animals?type=dog&amp;location=50010"),
  httr::add_headers(Authorization = paste0('Bearer ', token, sep = ''))
  )
```




```r
ames_dogs &lt;- httr::content(req_data, as = "parsed")
str(ames_dogs)
```

```
## List of 2
##  $ animals   :List of 20
##   ..$ :List of 26
##   .. ..$ id                    : int 61975131
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/pluto-61975131/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referrer_id=4"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Pit Bull Terrier"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Adult"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Pluto"
##   .. ..$ description           : chr "- Goofy player who loves toys and gets really wiggly once he&amp;amp;#39;s comfortable \n\n- Very, very smart boy who already..."
##   .. ..$ organization_animal_id: chr "226858"
##   .. ..$ photos                : list()
##   .. ..$ primary_photo_cropped : NULL
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T16:32:59+0000"
##   .. ..$ published_at          : chr "2023-04-01T16:32:58+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61975131"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61975026
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/princess-mae-61975026/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referr"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Labrador Retriever"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Adult"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Princess Mae"
##   .. ..$ description           : chr "Primary Color: White Secondary Color: White Weight: 25.6lbs Age: 2yrs 0mths 0wks Animal has been Spayed"
##   .. ..$ organization_animal_id: chr "230148"
##   .. ..$ photos                : list()
##   .. ..$ primary_photo_cropped : NULL
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T16:17:58+0000"
##   .. ..$ published_at          : chr "2023-04-01T16:17:57+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61975026"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61975028
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/lilly-61975028/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referrer_id=4"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Terrier"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Lilly"
##   .. ..$ description           : chr "Primary Color: Black Weight: 21lbs Age: 0yrs 4mths 2wks Animal has been Spayed"
##   .. ..$ organization_animal_id: chr "229655"
##   .. ..$ photos                : list()
##   .. ..$ primary_photo_cropped : NULL
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T16:17:58+0000"
##   .. ..$ published_at          : chr "2023-04-01T16:17:57+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61975028"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61975030
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/link-61975030/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referrer_id=4c"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Labrador Retriever"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Link"
##   .. ..$ description           : chr "Primary Color: Black Secondary Color: White Weight: 28.2lbs Age: 0yrs 5mths 0wks Animal has been Neutered"
##   .. ..$ organization_animal_id: chr "229604"
##   .. ..$ photos                : list()
##   .. ..$ primary_photo_cropped : NULL
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T16:17:58+0000"
##   .. ..$ published_at          : chr "2023-04-01T16:17:57+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61975030"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61975027
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/oshie-61975027/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referrer_id=4"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Labrador Retriever"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Adult"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Oshie"
##   .. ..$ description           : chr "Primary Color: Brown Weight: 43.5lbs Age: 3yrs 0mths 3wks Animal has been Spayed"
##   .. ..$ organization_animal_id: chr "229463"
##   .. ..$ photos                :List of 1
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T16:17:59+0000"
##   .. ..$ published_at          : chr "2023-04-01T16:17:57+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61975027"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61975029
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/bronson-61975029/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referrer_id"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "English Bulldog"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Adult"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Bronson"
##   .. ..$ description           : chr "Primary Color: Brown Weight: 83.5lbs Age: 6yrs 0mths 2wks Animal has been Neutered"
##   .. ..$ organization_animal_id: chr "229547"
##   .. ..$ photos                :List of 1
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T16:17:59+0000"
##   .. ..$ published_at          : chr "2023-04-01T16:17:57+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61975029"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61974823
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/nico-61974823/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referrer_id=4c"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "English Bulldog"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Adult"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Nico"
##   .. ..$ description           : chr "Primary Color: Black Weight: 62lbs Age: 3yrs 0mths 2wks Animal has been Neutered"
##   .. ..$ organization_animal_id: chr "229656"
##   .. ..$ photos                : list()
##   .. ..$ primary_photo_cropped : NULL
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T16:02:56+0000"
##   .. ..$ published_at          : chr "2023-04-01T16:02:55+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61974823"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61973964
##   .. ..$ organization_id       : chr "IA172"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/tinky-61973964/ia/west-des-moines/furry-friends-refuge-ia172/?referrer_id=4ce2071"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Husky"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi FALSE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : chr "Black"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Adult"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Tinky"
##   .. ..$ description           : NULL
##   .. ..$ organization_animal_id: chr "FFS-A-14544"
##   .. ..$ photos                : list()
##   .. ..$ primary_photo_cropped : NULL
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T14:40:14+0000"
##   .. ..$ published_at          : chr "2023-04-01T14:40:13+0000"
##   .. ..$ distance              : num 33.4
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "adoptions@furryfriendsrefuge.org"
##   .. .. ..$ phone  : chr "(515) 222-0009"
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "3505 Mills Civic Parkway"
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "West Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50265"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61973964"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia172"
##   ..$ :List of 26
##   .. ..$ id                    : int 61971480
##   .. ..$ organization_id       : chr "IA06"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/amaretto-61971480/ia/boone/boone-area-humane-society-ia06/?referrer_id=4ce20718-9"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Staffordshire Bull Terrier"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi FALSE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Young"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Amaretto"
##   .. ..$ description           : chr "All dogs are spayed/neutered, vaccinated, dewormed, microchipped and heartworm tested prior to adoption. We can"| __truncated__
##   .. ..$ organization_animal_id: chr "A2023010"
##   .. ..$ photos                :List of 2
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/2/?bust=1680344003&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/2/?bust=1680344003&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/2/?bust=1680344003&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/2/?bust=1680344003"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T10:03:23+0000"
##   .. ..$ published_at          : chr "2023-04-01T10:03:21+0000"
##   .. ..$ distance              : num 15.3
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "staff@bahs.us"
##   .. .. ..$ phone  : chr "(515) 432-6112"
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "228 W. 16th Street"
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Boone"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50036"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61971480"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia06"
##   ..$ :List of 26
##   .. ..$ id                    : int 61965872
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/mary-61965872/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0-4"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Mixed Breed"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Mary"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Mary! I&amp;amp;#39;m a sweet and lovable little girl looking for a home to call my very own. I..."
##   .. ..$ organization_animal_id: chr "D2023030"
##   .. ..$ photos                :List of 2
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/2/?bust=1680327217&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/2/?bust=1680327217&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/2/?bust=1680327217&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/2/?bust=1680327217"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T05:23:22+0000"
##   .. ..$ published_at          : chr "2023-04-01T05:23:20+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61965872"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61965871
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/maxi-61965871/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0-4"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Mixed Breed"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Maxi"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Maxi! I&amp;amp;#39;m an adorable big ear girl looking for a family to call my very own. I love..."
##   .. ..$ organization_animal_id: chr "D2023032"
##   .. ..$ photos                :List of 3
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/2/?bust=1680327219&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/2/?bust=1680327219&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/2/?bust=1680327219&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/2/?bust=1680327219"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/3/?bust=1680327221&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/3/?bust=1680327221&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/3/?bust=1680327221&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/3/?bust=1680327221"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T05:23:22+0000"
##   .. ..$ published_at          : chr "2023-04-01T05:23:20+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61965871"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61965868
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/prince-61965868/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Husky"
##   .. .. ..$ secondary: chr "Mixed Breed"
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Prince"
##   .. ..$ description           : chr "Hi there, I&amp;amp;#39;m Prince! I&amp;amp;#39;m a super sweet boy looking for a family to call my very own. I love..."
##   .. ..$ organization_animal_id: chr "D2023035"
##   .. ..$ photos                :List of 1
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T05:23:22+0000"
##   .. ..$ published_at          : chr "2023-04-01T05:23:20+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61965868"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61965869
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/tiana-61965869/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0-"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Husky"
##   .. .. ..$ secondary: chr "Mixed Breed"
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Tiana"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Tiana! I&amp;amp;#39;m a super sweet girl looking for a family to call my very own. I love to..."
##   .. ..$ organization_animal_id: chr "D2023036"
##   .. ..$ photos                :List of 2
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/2/?bust=1680327216&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/2/?bust=1680327216&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/2/?bust=1680327216&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/2/?bust=1680327216"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T05:23:22+0000"
##   .. ..$ published_at          : chr "2023-04-01T05:23:20+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61965869"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61965867
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/bell-61965867/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0-4"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Husky"
##   .. .. ..$ secondary: chr "Mixed Breed"
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Bell"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Bell! I&amp;amp;#39;m a super sweet girl looking for a family to call my very own. I love everyone..."
##   .. ..$ organization_animal_id: chr "D2023034"
##   .. ..$ photos                :List of 1
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T05:23:22+0000"
##   .. ..$ published_at          : chr "2023-04-01T05:23:20+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61965867"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61965870
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/missy-61965870/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0-"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Mixed Breed"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Missy"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Missy! I&amp;amp;#39;m a super sweet little girl hoping I can find a family to call my very own...."
##   .. ..$ organization_animal_id: chr "D2023031"
##   .. ..$ photos                :List of 2
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/2/?bust=1680327217&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/2/?bust=1680327217&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/2/?bust=1680327217&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/2/?bust=1680327217"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T05:23:22+0000"
##   .. ..$ published_at          : chr "2023-04-01T05:23:20+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61965870"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61963925
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/ariel-61963925/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0-"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Husky"
##   .. .. ..$ secondary: chr "Mixed Breed"
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Ariel"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Ariel! I&amp;amp;#39;m a super sweet girl looking for a family to call my very own. I love all..."
##   .. ..$ organization_animal_id: chr "D2023033"
##   .. ..$ photos                :List of 1
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-04-01T01:23:18+0000"
##   .. ..$ published_at          : chr "2023-04-01T01:23:16+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61963925"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61925661
##   .. ..$ organization_id       : chr "IA14"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/rose-quartz-61925661/ia/des-moines/animal-rescue-league-of-iowa-inc-ia14/?referre"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Hound"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Young"
##   .. ..$ gender                : chr "Female"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi TRUE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi TRUE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Rose Quartz"
##   .. ..$ description           : chr "Primary Color: Grey Secondary Color: White Weight: 37lbs Age: 0yrs 7mths 1wks Animal has been Spayed"
##   .. ..$ organization_animal_id: chr "221935"
##   .. ..$ photos                :List of 1
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-03-31T22:47:38+0000"
##   .. ..$ published_at          : chr "2023-03-31T22:47:36+0000"
##   .. ..$ distance              : num 26.2
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "social@arl-iowa.org"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: chr "5452 N.E. 22nd St."
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Des Moines"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50313"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61925661"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia14"
##   ..$ :List of 26
##   .. ..$ id                    : int 61924559
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/beethoven-61924559/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-9"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Cardigan Welsh Corgi"
##   .. .. ..$ secondary: chr "Mixed Breed"
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Young"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Small"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Beethoven"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Beethoven! I&amp;amp;#39;m a super sweet boy looking for a family to love. I love everyone I meet and..."
##   .. ..$ organization_animal_id: chr "D2023029"
##   .. ..$ photos                :List of 3
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/2/?bust=1680298415&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/2/?bust=1680298415&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/2/?bust=1680298415&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/2/?bust=1680298415"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/3/?bust=1680298416&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/3/?bust=1680298416&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/3/?bust=1680298416&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/3/?bust=1680298416"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-03-31T21:23:26+0000"
##   .. ..$ published_at          : chr "2023-03-31T21:23:23+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61924559"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61924558
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/henry-61924558/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c0-"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Mixed Breed"
##   .. .. ..$ secondary: NULL
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Baby"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Medium"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Henry"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Henry! I&amp;amp;#39;m a super sweet boy looking for a family to call my very own. I was found..."
##   .. ..$ organization_animal_id: chr "D2023027"
##   .. ..$ photos                :List of 2
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/2/?bust=1680298416&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/2/?bust=1680298416&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/2/?bust=1680298416&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/2/?bust=1680298416"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-03-31T21:23:26+0000"
##   .. ..$ published_at          : chr "2023-03-31T21:23:23+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61924558"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##   ..$ :List of 26
##   .. ..$ id                    : int 61924560
##   .. ..$ organization_id       : chr "IA261"
##   .. ..$ url                   : chr "https://www.petfinder.com/dog/charlie-61924560/ia/urbandale/rescue-rehab-rehome-ia261/?referrer_id=4ce20718-99c"| __truncated__
##   .. ..$ type                  : chr "Dog"
##   .. ..$ species               : chr "Dog"
##   .. ..$ breeds                :List of 4
##   .. .. ..$ primary  : chr "Cardigan Welsh Corgi"
##   .. .. ..$ secondary: chr "Mixed Breed"
##   .. .. ..$ mixed    : logi TRUE
##   .. .. ..$ unknown  : logi FALSE
##   .. ..$ colors                :List of 3
##   .. .. ..$ primary  : NULL
##   .. .. ..$ secondary: NULL
##   .. .. ..$ tertiary : NULL
##   .. ..$ age                   : chr "Young"
##   .. ..$ gender                : chr "Male"
##   .. ..$ size                  : chr "Small"
##   .. ..$ coat                  : NULL
##   .. ..$ attributes            :List of 5
##   .. .. ..$ spayed_neutered: logi FALSE
##   .. .. ..$ house_trained  : logi FALSE
##   .. .. ..$ declawed       : NULL
##   .. .. ..$ special_needs  : logi FALSE
##   .. .. ..$ shots_current  : logi FALSE
##   .. ..$ environment           :List of 3
##   .. .. ..$ children: NULL
##   .. .. ..$ dogs    : NULL
##   .. .. ..$ cats    : NULL
##   .. ..$ tags                  : list()
##   .. ..$ name                  : chr "Charlie"
##   .. ..$ description           : chr "Hi, I&amp;amp;#39;m Charlie! I&amp;amp;#39;m a super sweet fluffy boy looking for a family to love. I love everyone I meet..."
##   .. ..$ organization_animal_id: chr "D2023028"
##   .. ..$ photos                :List of 3
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/2/?bust=1680298415&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/2/?bust=1680298415&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/2/?bust=1680298415&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/2/?bust=1680298415"
##   .. .. ..$ :List of 4
##   .. .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/3/?bust=1680298413&amp;width=100"
##   .. .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/3/?bust=1680298413&amp;width=300"
##   .. .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/3/?bust=1680298413&amp;width=600"
##   .. .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/3/?bust=1680298413"
##   .. ..$ primary_photo_cropped :List of 4
##   .. .. ..$ small : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416&amp;width=300"
##   .. .. ..$ medium: chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416&amp;width=450"
##   .. .. ..$ large : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416&amp;width=600"
##   .. .. ..$ full  : chr "https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416"
##   .. ..$ videos                : list()
##   .. ..$ status                : chr "adoptable"
##   .. ..$ status_changed_at     : chr "2023-03-31T21:23:26+0000"
##   .. ..$ published_at          : chr "2023-03-31T21:23:23+0000"
##   .. ..$ distance              : num 29
##   .. ..$ contact               :List of 3
##   .. .. ..$ email  : chr "Bark.RescueRehabRehome@gmail.com"
##   .. .. ..$ phone  : NULL
##   .. .. ..$ address:List of 6
##   .. .. .. ..$ address1: NULL
##   .. .. .. ..$ address2: NULL
##   .. .. .. ..$ city    : chr "Urbandale"
##   .. .. .. ..$ state   : chr "IA"
##   .. .. .. ..$ postcode: chr "50322"
##   .. .. .. ..$ country : chr "US"
##   .. ..$ _links                :List of 3
##   .. .. ..$ self        :List of 1
##   .. .. .. ..$ href: chr "/v2/animals/61924560"
##   .. .. ..$ type        :List of 1
##   .. .. .. ..$ href: chr "/v2/types/dog"
##   .. .. ..$ organization:List of 1
##   .. .. .. ..$ href: chr "/v2/organizations/ia261"
##  $ pagination:List of 5
##   ..$ count_per_page: int 20
##   ..$ total_count   : int 701
##   ..$ current_page  : int 1
##   ..$ total_pages   : int 36
##   ..$ _links        :List of 1
##   .. ..$ next:List of 1
##   .. .. ..$ href: chr "/v2/animals?location=50010&amp;type=dog&amp;page=2"
```



---
class:inverse
## Your Turn

The [ames-dogs.Rdata](https://bit.ly/3tU4dKG) file is the result from the query on the last slide. 


```r
url_dogs &lt;- "https://bit.ly/3ZsuIUc" # download the file to your drive
download.file(url_dogs, destfile = "ames-dogs.Rdata", mode="wb")
load("ames-dogs.Rdata")
```

1. For the dogs returned by the API, assemble a data frame with their name, age, sex, breed(s), and shelter ID.

2. For each dog, can you assemble a list of picture links? (Hint: use list columns)

---

## Your Turn Solutions


```r
library(xml2)
getBreedInfo &lt;- function(breed) {
  res &lt;- "unknown"
  if (breed$unknown) return(res)
  res &lt;- breed$primary
  if (!is.null(breed$secondary)) 
    res &lt;- paste(res, breed$secondary, sep=", ")
  if (breed$mixed) res &lt;- paste(res, "Mix", sep=", ")
  return(res)
}

dog_to_df &lt;- function(x, verbose=FALSE) {
  if (verbose) {
    cat(x$name)
    cat("\n")
  }
  tibble(
    name = x$name,
    breed = getBreedInfo(x$breeds),
    age = x$age,
    sex = x$sex,
    id = x$id,
    shelterID = x$shelterId,
    pics = list(x$photos)
  )
}

ames_dog_df &lt;- ames_dogs$animals %&gt;% purrr::map_df(dog_to_df)
```

---

## Your Turn Solutions


```r
ames_dog_df
```

```
## # A tibble: 20  5
##    name         breed                    age       id pics  
##    &lt;chr&gt;        &lt;chr&gt;                    &lt;chr&gt;  &lt;int&gt; &lt;list&gt;
##  1 Pluto        Pit Bull Terrier, Mix    Adult 6.20e7 &lt;list&gt;
##  2 Princess Mae Labrador Retriever, Mix  Adult 6.20e7 &lt;list&gt;
##  3 Lilly        Terrier, Mix             Baby  6.20e7 &lt;list&gt;
##  4 Link         Labrador Retriever, Mix  Baby  6.20e7 &lt;list&gt;
##  5 Oshie        Labrador Retriever, Mix  Adult 6.20e7 &lt;list&gt;
##  6 Bronson      English Bulldog, Mix     Adult 6.20e7 &lt;list&gt;
##  7 Nico         English Bulldog, Mix     Adult 6.20e7 &lt;list&gt;
##  8 Tinky        Husky                    Adult 6.20e7 &lt;list&gt;
##  9 Amaretto     Staffordshire Bull Terr Young 6.20e7 &lt;list&gt;
## 10 Mary         Mixed Breed, Mix         Baby  6.20e7 &lt;list&gt;
## 11 Maxi         Mixed Breed, Mix         Baby  6.20e7 &lt;list&gt;
## 12 Prince       Husky, Mixed Breed, Mix  Baby  6.20e7 &lt;list&gt;
## 13 Tiana        Husky, Mixed Breed, Mix  Baby  6.20e7 &lt;list&gt;
## 14 Bell         Husky, Mixed Breed, Mix  Baby  6.20e7 &lt;list&gt;
## 15 Missy        Mixed Breed, Mix         Baby  6.20e7 &lt;list&gt;
## 16 Ariel        Husky, Mixed Breed, Mix  Baby  6.20e7 &lt;list&gt;
## 17 Rose Quartz  Hound, Mix               Young 6.19e7 &lt;list&gt;
## 18 Beethoven    Cardigan Welsh Corgi, M Young 6.19e7 &lt;list&gt;
## 19 Henry        Mixed Breed, Mix         Baby  6.19e7 &lt;list&gt;
## 20 Charlie      Cardigan Welsh Corgi, M Young 6.19e7 &lt;list&gt;
```

---

## Your Turn Solutions


```r
purrr::map_chr(ames_dog_df$pics, .f = function(x) {
    if (length(x) == 0) return(NA)
    x[[1]]$full
  }) %&gt;% 
  na.omit() %&gt;%
  knitr::include_graphics()
```

&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975027/1/?bust=1680366486" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61975029/1/?bust=1680366486" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61971480/1/?bust=1680344004" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965872/1/?bust=1680327220" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965871/1/?bust=1680327217" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965868/1/?bust=1680327216" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965869/1/?bust=1680327212" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965867/1/?bust=1680327216" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61965870/1/?bust=1680327217" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61963925/1/?bust=1680312803" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61925661/1/?bust=1680303469" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924559/1/?bust=1680298408" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924558/1/?bust=1680298416" width="10%" /&gt;&lt;img src="https://dl5zpyw5k3jeb.cloudfront.net/photos/pets/61924560/1/?bust=1680298416" width="10%" /&gt;

---

## Whether the weather or weather the weather?

Read through the [NOAA API](https://www.ncdc.noaa.gov/cdo-web/webservices/v2) documentation and try out queries in the web browser to check how to read responses correctly.


```r
jsonlite::read_json("https://api.weather.gov/points/41.9906,-93.6189")
```

```
## $`@context`
## $`@context`[[1]]
## [1] "https://geojson.org/geojson-ld/geojson-context.jsonld"
## 
## $`@context`[[2]]
## $`@context`[[2]]$`@version`
## [1] "1.1"
## 
## $`@context`[[2]]$wx
## [1] "https://api.weather.gov/ontology#"
## 
## $`@context`[[2]]$s
## [1] "https://schema.org/"
## 
## $`@context`[[2]]$geo
## [1] "http://www.opengis.net/ont/geosparql#"
## 
## $`@context`[[2]]$unit
## [1] "http://codes.wmo.int/common/unit/"
## 
## $`@context`[[2]]$`@vocab`
## [1] "https://api.weather.gov/ontology#"
## 
## $`@context`[[2]]$geometry
## $`@context`[[2]]$geometry$`@id`
## [1] "s:GeoCoordinates"
## 
## $`@context`[[2]]$geometry$`@type`
## [1] "geo:wktLiteral"
## 
## 
## $`@context`[[2]]$city
## [1] "s:addressLocality"
## 
## $`@context`[[2]]$state
## [1] "s:addressRegion"
## 
## $`@context`[[2]]$distance
## $`@context`[[2]]$distance$`@id`
## [1] "s:Distance"
## 
## $`@context`[[2]]$distance$`@type`
## [1] "s:QuantitativeValue"
## 
## 
## $`@context`[[2]]$bearing
## $`@context`[[2]]$bearing$`@type`
## [1] "s:QuantitativeValue"
## 
## 
## $`@context`[[2]]$value
## $`@context`[[2]]$value$`@id`
## [1] "s:value"
## 
## 
## $`@context`[[2]]$unitCode
## $`@context`[[2]]$unitCode$`@id`
## [1] "s:unitCode"
## 
## $`@context`[[2]]$unitCode$`@type`
## [1] "@id"
## 
## 
## $`@context`[[2]]$forecastOffice
## $`@context`[[2]]$forecastOffice$`@type`
## [1] "@id"
## 
## 
## $`@context`[[2]]$forecastGridData
## $`@context`[[2]]$forecastGridData$`@type`
## [1] "@id"
## 
## 
## $`@context`[[2]]$publicZone
## $`@context`[[2]]$publicZone$`@type`
## [1] "@id"
## 
## 
## $`@context`[[2]]$county
## $`@context`[[2]]$county$`@type`
## [1] "@id"
## 
## 
## 
## 
## $id
## [1] "https://api.weather.gov/points/41.9906,-93.6189"
## 
## $type
## [1] "Feature"
## 
## $geometry
## $geometry$type
## [1] "Point"
## 
## $geometry$coordinates
## $geometry$coordinates[[1]]
## [1] -93.6189
## 
## $geometry$coordinates[[2]]
## [1] 41.9906
## 
## 
## 
## $properties
## $properties$`@id`
## [1] "https://api.weather.gov/points/41.9906,-93.6189"
## 
## $properties$`@type`
## [1] "wx:Point"
## 
## $properties$cwa
## [1] "DMX"
## 
## $properties$forecastOffice
## [1] "https://api.weather.gov/offices/DMX"
## 
## $properties$gridId
## [1] "DMX"
## 
## $properties$gridX
## [1] 73
## 
## $properties$gridY
## [1] 68
## 
## $properties$forecast
## [1] "https://api.weather.gov/gridpoints/DMX/73,68/forecast"
## 
## $properties$forecastHourly
## [1] "https://api.weather.gov/gridpoints/DMX/73,68/forecast/hourly"
## 
## $properties$forecastGridData
## [1] "https://api.weather.gov/gridpoints/DMX/73,68"
## 
## $properties$observationStations
## [1] "https://api.weather.gov/gridpoints/DMX/73,68/stations"
## 
## $properties$relativeLocation
## $properties$relativeLocation$type
## [1] "Feature"
## 
## $properties$relativeLocation$geometry
## $properties$relativeLocation$geometry$type
## [1] "Point"
## 
## $properties$relativeLocation$geometry$coordinates
## $properties$relativeLocation$geometry$coordinates[[1]]
## [1] -93.62775
## 
## $properties$relativeLocation$geometry$coordinates[[2]]
## [1] 42.02602
## 
## 
## 
## $properties$relativeLocation$properties
## $properties$relativeLocation$properties$city
## [1] "Ames"
## 
## $properties$relativeLocation$properties$state
## [1] "IA"
## 
## $properties$relativeLocation$properties$distance
## $properties$relativeLocation$properties$distance$unitCode
## [1] "wmoUnit:m"
## 
## $properties$relativeLocation$properties$distance$value
## [1] 4005.787
## 
## 
## $properties$relativeLocation$properties$bearing
## $properties$relativeLocation$properties$bearing$unitCode
## [1] "wmoUnit:degree_(angle)"
## 
## $properties$relativeLocation$properties$bearing$value
## [1] 169
## 
## 
## 
## 
## $properties$forecastZone
## [1] "https://api.weather.gov/zones/forecast/IAZ048"
## 
## $properties$county
## [1] "https://api.weather.gov/zones/county/IAC169"
## 
## $properties$fireWeatherZone
## [1] "https://api.weather.gov/zones/fire/IAZ048"
## 
## $properties$timeZone
## [1] "America/Chicago"
## 
## $properties$radarStation
## [1] "KDMX"
```

---
class:inverse
## Your Turn

The NOAA Weather API has many layers. If you use the /points/ API and pass in latitude and longitude, 

`https://api.weather.gov/points/42.0238,-93.6161`

the returned JSON file provides links to other APIs. 

Use the `jsonlite` package to work with the returned JSON file (`jsonlite::fromJSON`).

Write a function that accepts latitude and longitude and returns the hourly forecast as a data frame. 

Can you plot the temperature forecast? 

---

## Your Turn - Solution


```r
get_weather &lt;- function(lat, lon) {
  checkmate::assert_number(lat)
  checkmate::assert_number(lon)
  url &lt;- sprintf("https://api.weather.gov/points/%f,%f", lat, lon)
  initialjson &lt;- jsonlite::fromJSON(url)
  
  if (!checkmate::check_subset("properties", names(initialjson)) | 
      !checkmate::check_subset("forecastHourly", names(initialjson$properties))) {
    stop("No Information Found. Check Latitude/Longitude values.")
  }
  
  hourlyforecast &lt;- jsonlite::fromJSON(initialjson$properties$forecastHourly)
  
  res &lt;- hourlyforecast$properties$periods
  checkmate::check_data_frame(res)
  res
}
```
---

## Your Turn - Solution


```r
amesweather &lt;- get_weather(42, -93.6) %&gt;%
  mutate(startTime = lubridate::ymd_hms(startTime, tz = "America/Chicago")) 
```

```
## Date in ISO8601 format; converting timezone from UTC to "America/Chicago".
```

![](03_api_files/figure-html/unnamed-chunk-22-1.png)&lt;!-- --&gt;

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
